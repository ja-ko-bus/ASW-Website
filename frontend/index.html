<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Automotive Video Project Form</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.13/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@pdf-lib/fontkit@1.0.0"></script>
</head>

<!--Body-->
<body>
    <h1>Automotive Video Project Form</h1>
    <form id="videoProjectForm">

        <!--Disclaimer-->
        <div class="form-group disclaimer">
            <label for="disclaimer">Please make sure that you select the right parameters depending on your device,
                 <strong style="font-weight: bold;">not all</strong> video devices support them.</label>
            <label for="disclaimer">
                If additional support is needed, please contact: <strong style="font-weight: bold;">ats.sales@goepel.com</strong>
            </label>
        </div>

        <!--General Information-->
        <h2>General Information</h2>
        
        <div class="form-group">
            <label for="customerName">Customer Name:</label>
            <input type="text" id="customerName" name="customerName" required>
        </div>

        <div class="form-group">
            <label for="contactPerson">Technical Contact Person (Email):</label>
            <select id="contactPerson" name="contactPerson" required>
                <option value="">Select a contact person</option>
                <option value="jakob.buschke@goepel.com">jakob.buschke@goepel.com</option>
            </select>
        </div>

        <div class="form-group">
            <label for="projectTitle">Project Title:</label>
            <input type="text" id="projectTitle" name="projectTitle" required>
        </div>

        <div class="form-group textBox">
            <label for="useCase">Expected use case (What is the application like?):</label>
            <textarea id="useCase" name="useCase" rows="5" required></textarea>
        </div>

        <!--Technical Basics-->
        <h2>Technical Basics</h2>
        <div class="form-group">
            <label for="plannedQuantity">Planned Quantity of Hardware:</label>
            <div class="slider-wrapper">
                <input type="number" id="plannedQuantityEditable" name="plannedQuantityEditable" min="1" max="10" value="1" required style="width: 60px; margin-right: 10px;">
                <input type="range" id="plannedQuantity" name="plannedQuantity" min="1" max="10" value="1" data-value="1" required>
                <span class="slider-display" id="plannedQuantityDisplay">1</span>
            </div>
        </div>  

        <!-- Desired Hardware Format Section -->
        <div class="form-group">
            <label>
                Desired hardware format:
                <span class="info-icon"><span class="info-text">i</span></span>
                <div class="tooltip">
                    <span>
                        <strong>Box(GigE):</strong><br>
                        - Ideal for lab setups<br>
                        - Portable environments<br>
                        - Easy to integrate
                    </span>
                    <span>
                        <strong>PCIe Card:</strong><br>
                        - Perfect for demanding tasks<br>
                        - Very fast data transfer<br>
                        - Low latency
                    </span>
                    <span>
                        <strong>PXIe Card:</strong><br>
                        - Advanced test environments<br>
                        - High scalability<br>
                        - Real time capability
                    </span>
                </div>
            </label>
            <div class="hardware-format-options">
                <div class="hardware-option">
                    <label class="btn btn-option">
                        <input type="radio" name="testHardwareFormat[]" value="Box (GigE)"> Box (GigE)
                    </label>
                    <img src="images/Box.png" alt="Box (GigE)" class="hardware-image">
                </div>
                <div class="hardware-option">
                    <label class="btn btn-option">
                        <input type="radio" name="testHardwareFormat[]" value="PCIe Card"> PCIe Card
                    </label>
                    <img src="images/PCIeCard.png" alt="PCIe Card" class="hardware-image">
                </div>
                <div class="hardware-option">
                    <label class="btn btn-option">
                        <input type="radio" name="testHardwareFormat[]" value="PXIe Card"> PXIe Card
                    </label>
                    <img src="images/PXIeCard.png" alt="PXIe Card" class="hardware-image">
                </div>
            </div>
        </div>

        <!--Basic Tech-->
        <div class="form-group">
            <label for="videoInputs">Number of Video Inputs on UUT:</label>
            <div class="slider-wrapper">
                <input type="number" id="videoInputsEditable" name="videoInputsEditable" min="1" max="10" value="1" required style="width: 60px; margin-right: 10px;">
                <input type="range" id="videoInputs" name="videoInputs" min="1" max="10" value="1" required>
                <span class="slider-display" id="videoInputsDisplay">1</span>
            </div>
        </div>

        <div class="form-group">
            <label for="videoOutputs">Number of Video Outputs on UUT:</label>
            <div class="slider-wrapper">
                <input type="number" id="videoOutputsEditable" name="videoOutputsEditable" min="1" max="10" value="1" required style="width: 60px; margin-right: 10px;">
                <input type="range" id="videoOutputs" name="videoOutputs" min="1" max="10" value="1" required>
                <span class="slider-display" id="videoOutputsDisplay">1</span>
            </div>
        </div>

        <!--Video Parameters Reliance-->
        <div id="dynamicInputsContainer">

            <!--UUT Video IN/OUT 1-->
            <div class="form-group dynamic-input-output video-parameter" data-index="1">
                <h2>UUT Video IN/OUT 1</h2>

                <!--Hardware Information-->
                <div class="form-group">
                    <div class="btn-group two-buttons" data-toggle="inputOrOutput-buttons">
                        <label class="btn btn-option">
                            <input type="radio" name="inputOrOutput[]" value="Input"> Input
                        </label>
                        <label class="btn btn-option">
                            <input type="radio" name="inputOrOutput[]" value="Output"> Output
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label>Signal Direction:</label>
                    <div class="signal-direction-container">
                        <select name="icType[]" class="icType" required>
                            <option value="">Select</option>
                            <option value="Source">Source</option>
                            <option value="Sink">Sink IC</option>
                        </select>
                        <span class="icType-placeholder" style="display: none; margin-left: 10px;"></span>
                    </div>
                        <div class="additional-source-fields" style="display: none;"></div>
                    </div>
                    <div class="form-group video-connector-type" style="display: none;">
                    <label>Video connector type:</label>
                    <div class="buttons">
                        <button type="button" class="btn option" data-value="STP">STP</button>
                        <button type="button" class="btn option" data-value="Coax">Coax</button>
                        <button type="button" class="btn option" data-value="HMTD">HMTD</button>
                        <button type="button" class="btn option" data-value="Other">Other</button>
                    </div>
                    <div class="video-connector-images" style="margin-top: 10px;">
                        <img src="images/STP.png" alt="STP" class="video-connector-image">
                        <img src="images/Coax.png" alt="Coax" class="video-connector-image">
                        <img src="images/Hmtd.png" alt="HMTD" class="video-connector-image">
                        <textarea name="otherVideoConnectorType" placeholder="Please specify" style="margin-top: 10px;"></textarea>
                    </div>
                </div>
                <div class="form-group video-connector-pinning" style="display: none;">
                    <label for="pinningConnector">Pinning of video connector:</label>
                    <textarea id="pinningConnector" name="pinningConnector" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label>Power supply of UUT via video cable?</label>
                    <div class="power-supply-wrapper">
                        <div class="power-supply-buttons">
                            <span class="btn-option" data-value="Yes">Yes</span>
                            <span class="btn-option" data-value="No">No</span>
                        </div>
                        <div class="form-group power-supply-details" style="display: none;">
                            <input type="text" name="voltageCurrentConsumption[]" 
                            placeholder="Consumption: e.g: 12V / 500mA">
                        </div>
                    </div>
                    <!--Video Parameters-->
                <br> 
                <div class="form-group">
                    <label>Pixel Clock:</label>
                    <input type="text" name="pixelClock[]" required>
                </div>
                <div class="form-group">
                    <label>Image Width:</label>
                    <input type="number" name="imageWidth[]" required>
                </div>
                <div class="form-group">
                    <label>Image Height:</label>
                    <input type="number" name="imageHeight[]" required>
                </div>
                <div class="form-group">
                    <label>Frame Rate:</label>
                    <input type="number" name="frameRate[]" required>
                </div>
                <div class="form-group">
                    <label>Horizontal Sync Polarity:</label>
                    <div class="btn-group" data-toggle="horizontal-sync-buttons">
                        <label class="btn btn-option">
                            <input type="radio" name="horizontalSyncPolarity[]" value="High"> High
                        </label>
                        <label class="btn btn-option">
                            <input type="radio" name="horizontalSyncPolarity[]" value="Low"> Low
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label>Vertical Sync Polarity:</label>
                    <div class="btn-group" data-toggle="vertical-sync-buttons">
                        <label class="btn btn-option">
                            <input type="radio" name="verticalSyncPolarity[]" value="High"> High
                        </label>
                        <label class="btn btn-option">
                            <input type="radio" name="verticalSyncPolarity[]" value="Low"> Low
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label>Data Enable Polarity:</label>
                    <div class="btn-group" data-toggle="data-enable-buttons">
                        <label class="btn btn-option">
                            <input type="radio" name="dataEnablePolarity[]" value="High"> High
                        </label>
                        <label class="btn btn-option">
                            <input type="radio" name="dataEnablePolarity[]" value="Low"> Low
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label>Pixel Clock Polarity:</label>
                    <div class="btn-group" data-toggle="pixel-clock-polarity-buttons">
                        <label class="btn btn-option">
                            <input type="radio" name="pixelClockPolarity[]" value="High"> High
                        </label>
                        <label class="btn btn-option">
                            <input type="radio" name="pixelClockPolarity[]" value="Low"> Low
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label>Lock Output Enable:</label>
                    <div class="btn-group" data-toggle="lock-output-enable-buttons">
                        <label class="btn btn-option">
                            <input type="radio" name="lockOutputEnable[]" value="High"> High
                        </label>
                        <label class="btn btn-option">
                            <input type="radio" name="lockOutputEnable[]" value="Low"> Low
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label>Lock Polarity:</label>
                    <div class="btn-group" data-toggle="lock-polarity-buttons">
                        <label class="btn btn-option">
                            <input type="radio" name="lockPolarity[]" value="High"> High
                        </label>
                        <label class="btn btn-option">
                            <input type="radio" name="lockPolarity[]" value="Low"> Low
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label>Video Format:</label>
                    <input type="text" name="videoFormat[]" required>
                </div>
            </div>

                <div class="form-group">
                    <label for="numberVideo">Number of Video Channels per Stream:</label>
                    <div class="slider-wrapper">
                        <input type="number" id="numberVideoChannelsEditable" name="numberVideoChannelsEditable" min="1" max="10" value="1" required style="width: 60px; margin-right: 10px;">
                        <input type="range" id="numberVideoChannels" name="numberVideoChannels" min="1" max="10" value="1" data-value="1" required>
                        <span class="slider-display" id="numberVideoChannelsDisplay">1</span>
                    </div>
                </div>
                <div class="form-group">
                    <label>Is HDCP used?
                        <span class="info-tooltip-wrapper">
                            <span class="info-icon"><span class="info-text">i</span></span>
                            <span class="tooltip textbox second-tooltip">
                                HDCP (High-bandwidth Digital Content Protection) is used to prevent unauthorized copying of 
                                digital content.
                            </span>
                        </span>
                    </label>
                    <div class="btn-group two-buttons" data-toggle="hdcp-buttons">
                        <label class="btn btn-option">
                            <input type="radio" name="hdcpUsed[]" value="Yes"> Yes
                        </label>
                        <label class="btn btn-option">
                            <input type="radio" name="hdcpUsed[]" value="No"> No
                        </label>
                    </div>
                </div>

                <!--Sideband Communication-->
                <div class="form-group">
                    <label>Sideband Communication:          
                        <span class="info-tooltip-wrapper">
                            <span class="info-icon"><span class="info-text">i</span></span>
                            <span class="tooltip textbox second-tooltip">
                                Sideband Communication describes Additional communication channels that can be used alongside the main video signal.
                                <ul>
                                    <li><strong>I2C:</strong> Configure camera modules (e.g. resolution, frame rate) over a simple 2-wire connection.</li>
                                    <li><strong>UART:</strong> Logging or debugging messages from video devices during development.</li>
                                    <li><strong>SPI:</strong> High-speed interface for transferring control data or syncing between chips in the video path.</li>
                                    <li><strong>MII:</strong> Transmits Ethernet-based data, sometimes used for camera-to-ECU communication or synchronization.</li>
                                    <li><strong>CAN:</strong> Common in vehicles to send control signals (e.g. ignition state) or receive system status messages.</li>
                                </ul>
                            </span>
                        </span>
                    </label>
                    <div class="sideband-group">
                        <label class="sideband-option">
                            <input type="checkbox" name="sideband" value="I2C"> I2C
                        </label>
                        <label class="sideband-option">
                            <input type="checkbox" name="sideband" value="UART"> UART
                        </label>
                        <label class="sideband-option">
                            <input type="checkbox" name="sideband" value="SPI"> SPI
                        </label>
                        <label class="sideband-option">
                            <input type="checkbox" name="sideband" value="MII"> MII
                        </label>
                        <label class="sideband-option">
                            <input type="checkbox" name="sideband" value="CAN"> CAN
                        </label>
                    </div>
                </div>

                <!--Chip dependent Information-->
                <div class="form-group">
                    <h3>Chip Manufacturer:</h3>
                    <select name="chipManufacturer[]" class="chipManufacturer" required>
                        <option value="">Select</option>
                        <option value="Texas Instruments">Texas Instruments</option>
                        <option value="APIX">APIX</option>
                        <option value="Maxim">Maxim</option>
                    </select>
                    
                    <hr>

                    <div class="chip-options fpd-options">
                        <!-- Texas Instruments specific options -->
                        <div class="form-group">
                            <label>FPD Link:</label>
                            <div class="buttons">
                                <button type="button" class="btn option" data-value="FPD Link II">FPD Link II</button>
                                <button type="button" class="btn option" data-value="FPD Link III">FPD Link III</button>
                                <button type="button" class="btn option" data-value="FPD Link IV">FPD Link IV</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Backward compatible mode:</label>
                            <div class="buttons">
                                <button type="button" class="btn option" data-value="Yes">Yes</button>
                                <button type="button" class="btn option" data-value="No">No</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Low frequency mode:</label>
                            <div class="buttons">
                                <button type="button" class="btn option" data-value="Yes">Yes</button>
                                <button type="button" class="btn option" data-value="No">No</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>FPD Link III Transfer Mode:</label>
                            <div class="buttons">
                                <button type="button" class="btn option" data-value="Single Lane">Single Lane</button>
                                <button type="button" class="btn option" data-value="Dual Lane">Dual Lane</button>
                            </div>
                        </div>
                        <div class="form-group textBox">
                            <label>Additional Information:</label>
                            <label for="useCase"></label>
                            <textarea id="useCase" name="useCase" rows="5" required></textarea>
                        </div>
                    </div>
                    <div class="chip-options apix-options">
                        <!-- APIX specific options -->
                        <div class="form-group">
                            <label>APIX Mode:</label>
                            <div class="buttons">
                                <button type="button" class="btn option" data-value="APIX I">APIX I</button>
                                <button type="button" class="btn option" data-value="APIX II">APIX II</button>
                                <button type="button" class="btn option" data-value="APIX III">APIX III</button>
                            </div>
                        </div>
                        <div class="form-group textBox">
                            <label>Additional Information:</label>
                            <label for="useCase"></label>
                            <textarea id="useCase" name="useCase" rows="5" required></textarea>
                        </div>
                    </div>
                    <div class="chip-options gmsl-options">
                        <!-- Maxim specific options -->
                        <div class="form-group">
                            <label>GMSL Version:</label>
                            <div class="buttons">
                                <button type="button" class="btn option" data-value="GMSL I">GMSL I</button>
                                <button type="button" class="btn option" data-value="GMSL II">GMSL II</button>
                                <button type="button" class="btn option" data-value="GMSL III">GMSL III</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Bus Width:</label>
                            <div class="buttons">
                                <button type="button" class="btn option" data-value="24 bit">24 bit</button>
                                <button type="button" class="btn option" data-value="32 bit">32 bit</button>
                                <button type="button" class="btn option" data-value="64 bit">64 bit</button>
                            </div>
                        </div>
                        <div class="form-group textBox">
                            <label>Additional Information:</label>
                            <label for="useCase"></label>
                            <textarea id="useCase" name="useCase" rows="5" required></textarea>
                        </div>
                    </div>
                </div>
                <button type="button" class="remove-video-parameter" data-index="1">Remove UUT Video IN/OUT 1</button>
            </div>
        </div>

        <!--Add UUT Video IN/OUT Button -->
        <button type="button" id="addInputOutput" class="add-video-parameter">Add UUT Video IN/OUT</button>

        <!--Submit Button -->
        <button type="button" id="submitForm" class="submit-button">Submit</button>

    </form>
    <!--Incooperating Functions-->
    <script src="script.js"></script>
</body>
</html>